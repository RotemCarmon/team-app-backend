(function(e){function t(t){for(var n,s,i=t[0],u=t[1],c=t[2],m=0,p=[];m<i.length;m++)s=i[m],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,i=1;i<r.length;i++){var u=r[i];0!==a[u]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},o=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=u;o.push([1,"chunk-vendors"]),r()})({0:function(e,t){},1:function(e,t,r){e.exports=r("56d7")},"177e":function(e,t,r){},2:function(e,t){},2134:function(e,t,r){},3:function(e,t){},4219:function(e,t,r){"use strict";r("a165")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("app-header"),r("router-view"),r("user-msg")],1)},o=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{},[r("div",{staticClass:"header-container container"},[r("div",{staticClass:"nav-bar"},[r("router-link",{attrs:{to:"/"}},[e._v("Home")]),r("div",{staticClass:"divider"}),r("router-link",{attrs:{to:"/teams"}},[e._v("List")])],1),e.loggedinUser?r("a",{on:{click:e.logout}},[e._v("Logout")]):r("router-link",{attrs:{to:"/login"}},[e._v("Login")])],1)])},i=[],u=(r("96cf"),r("1da1")),c={name:"app-header",computed:{loggedinUser:function(){return this.$store.getters.loggedinUser}},methods:{logout:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("logout");case 2:e.$router.push("/").catch((function(){}));case 3:case"end":return t.stop()}}),t)})))()}}},l=c,m=(r("4219"),r("2877")),p=Object(m["a"])(l,s,i,!1,null,null,null),d=p.exports,f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.message?r("div",{staticClass:"screen"},[r("div",{staticClass:"user-msg modal",class:e.message.type},[r("h1",[e._v(e._s(e.message.txt))]),r("button",{staticClass:"btn",on:{click:e.closeMsg}},[e._v("Close")])])]):e._e()},g=[],h={name:"user-msg",computed:{message:function(){return this.$store.getters.message}},methods:{closeMsg:function(){this.$store.commit("sendMsg",null)}}},v=h,b=(r("c408"),Object(m["a"])(v,f,g,!1,null,null,null)),w=b.exports,y={name:"App",components:{userMsg:w,appHeader:d}},x=y,_=(r("5c0b"),Object(m["a"])(x,a,o,!1,null,null,null)),k=_.exports,O=r("9483");Object(O["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var j=r("8c4f"),R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",{staticClass:"team-app-container main-container"},[r("h1",[e._v("Hello Teams")]),r("label",{attrs:{for:"your-team"}},[e._v("Your Name")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.team.member1,expression:"team.member1"}],staticClass:"select-your-name form-el",attrs:{id:"your-team"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.team,"member1",t.target.multiple?r:r[0])}}},e._l(e.students,(function(t,n){return r("option",{key:n,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0),r("label",{attrs:{for:"partner-team"}},[e._v("Partner Name")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.team.member2,expression:"team.member2"}],staticClass:"select-partner-name form-el",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.team,"member2",t.target.multiple?r:r[0])}}},e._l(e.students,(function(t,n){return r("option",{key:n,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0),r("div",{staticClass:"list-footer"},[r("button",{staticClass:"submit-team btn",on:{click:e.submitTeam}},[e._v("Submit")])])])},S=[],T=(r("99af"),r("bc3a")),C=r.n(T),M="/api/",$=C.a.create({withCredentials:!0}),E={get:function(e,t){return U(e,"GET",t)},post:function(e,t){return U(e,"POST",t)},put:function(e,t){return U(e,"PUT",t)},delete:function(e,t){return U(e,"DELETE",t)}};function U(e){return P.apply(this,arguments)}function P(){return P=Object(u["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:"get",n=o.length>2&&void 0!==o[2]?o[2]:null,e.prev=2,e.next=5,$({url:"".concat(M).concat(t),method:r,data:n});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:if(e.prev=9,e.t0=e["catch"](2),401!==e.t0.response.status){e.next=13;break}return e.abrupt("return",{type:"message",txt:"Wrong username or password"});case 13:console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,9]])}))),P.apply(this,arguments)}var N=["Arthur Volkov","Ori Rose","Avi Koenig","Almog Lemberg","Avi Lugassi","Aviv Zohar","Ofir Dahan","Oren Karaso","Oshri Yoktan","Izek Golland","Anton Zebnitski","Erez Hershkovitz","Ari Gabay","Bari Avni","Guy Zohar","Gali Nickel","Gilad Peltz","Lian Skopis","Dariya Kartko","Dor Shaul","Dorran Gavish","Hadar Harush","Hadar Marom","Zina Mihailov","Noy Hason","Chen Sella","Timophei Tchitchkan","Yonatan Mizrahi","Yoni Bar","Ytav Peer","Yaniv Soudneko","Ifat Braslavi","Carmit Vaknin","Lotan Mashiah","Liz Hajaj","Leetal Rivlin Tal","Michael Peer","Noa Reisman","Nofar Gabso","Oded Ron","Omer Golan","Eran Sevil","Ream Lasry","Rom Soloman","Roi Levy","Ran Porath","Shoshana Elsa","Shachar Dorfzaun","Shiran Cohen","Sharon Wirtzer"];function A(){return N.sort()}function D(e,t){return L.apply(this,arguments)}function L(){return L=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,E.post("team",{team:t,isForce:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function F(){return z.apply(this,arguments)}function z(){return z=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,E.get("team");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}function G(e){return H.apply(this,arguments)}function H(){return H=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,E.delete("team/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}var Y={getStudents:A,addTeam:D,getTeams:F,removeTeam:G},I={name:"team-app",data:function(){return{team:{member1:"",member2:""},students:[]}},created:function(){this.students=Y.getStudents(),this.$store.dispatch("getTeams")},methods:{submitTeam:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isVerified()){t.next=2;break}return t.abrupt("return");case 2:e.$store.dispatch("addTeam",e.team),e.team={member1:"",member2:""};case 4:case"end":return t.stop()}}),t)})))()},isVerified:function(){var e=this.team,t=e.member1,r=e.member2;return""===t||""===r?(this.$store.commit("sendMsg",{txt:"Must choose both your name and your partner's name",type:"warning"}),!1):t!==r||(this.$store.commit("sendMsg",{txt:"Can't choose your own name as your partner!",type:"warning"}),!1)}}},J=I,B=(r("dd26"),Object(m["a"])(J,R,S,!1,null,"3595c68c",null)),V=B.exports,Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"team-list-container"},[e.teamsForDisplay?r("table",{staticClass:"team-list"},[e._m(0),r("tbody",e._l(e.teamsForDisplay,(function(t){return r("tr",{key:t.id,class:{"is-match":t.isMatch}},[r("td",[e._v(e._s(t.member1))]),r("td",[e._v(e._s(t.member2))]),r("td",{staticClass:"remove-team",on:{click:function(r){return e.removeTeam(t.id)}}},[e._v("X")])])})),0)]):e._e(),r("div",{staticClass:"list-footer"},[r("export-sheet")],1)])},K=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("Member 1")]),r("th",[e._v("Member 2")]),r("th")])])}],W=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"export-sheet-container"},[r("button",{staticClass:"export-btn btn",on:{click:e.exportData}},[e._v("Export")])])},q=[],X=(r("4de4"),r("d81d"),r("1146")),Q=r.n(X),ee={name:"export-sheet",computed:{teams:function(){return this.$store.getters.teamsForDisplay}},methods:{exportData:function(){var e=this.getMatched(),t=this.getUnsubmited(),r=this.getUnmatched(),n=Q.a.utils.book_new(),a=Q.a.utils.json_to_sheet(e);Q.a.utils.sheet_add_json(a,t,{origin:"D1"}),Q.a.utils.sheet_add_json(a,r,{origin:"F1"}),Q.a.utils.book_append_sheet(n,a,"couples"),Q.a.writeFile(n,"test.xlsx")},getUnsubmited:function(){var e=this,t=Y.getStudents();return t.filter((function(t){return e.teams.every((function(e){var r=e.member1,n=e.member2;return t!==r&&t!==n}))})).map((function(e){return{unsubmited:e}}))},getUnmatched:function(){return this.teams.filter((function(e){return!e.isMatch})).map((function(e){return{unmatched:e.member1}}))},getMatched:function(){return this.teams.filter((function(e){return e.isMatch})).map((function(e){var t=e.member1,r=e.member2;return{member1:t,member2:r}}))}}},te=ee,re=Object(m["a"])(te,W,q,!1,null,null,null),ne=re.exports,ae={name:"team-list",created:function(){this.$store.dispatch("getTeams")},computed:{teamsForDisplay:function(){return this.$store.getters.teamsForDisplay}},methods:{removeTeam:function(e){this.$store.dispatch("removeTeam",e)}},components:{exportSheet:ne}},oe=ae,se=(r("da86"),Object(m["a"])(oe,Z,K,!1,null,"378649d6",null)),ie=se.exports,ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}}},[r("h1",[e._v("Login")]),r("label",{attrs:{for:"your-team"}},[e._v("Username")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.cred.username,expression:"cred.username"}],staticClass:"username form-el",attrs:{type:"text",placeholder:"Enter Username"},domProps:{value:e.cred.username},on:{input:function(t){t.target.composing||e.$set(e.cred,"username",t.target.value)}}}),r("label",{attrs:{for:"your-team"}},[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.cred.password,expression:"cred.password"}],staticClass:"password form-el",attrs:{type:"password",placeholder:"Enter Password"},domProps:{value:e.cred.password},on:{input:function(t){t.target.composing||e.$set(e.cred,"password",t.target.value)}}}),e.isError?r("div",{staticClass:"validation-error"},[e._v(e._s(e.error))]):e._e(),r("div",{staticClass:"list-footer"},[r("button",{staticClass:"btn",on:{click:e.login}},[e._v("Submit")])])])},ce=[],le={name:"login-page",data:function(){return{cred:{username:"",password:""},error:"* Must enter username and password",isError:!1}},methods:{login:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,r=e.cred,n=r.username,a=r.password,a&&n){t.next=5;break}return e.isError=!0,t.abrupt("return");case 5:e.isError=!1,e.$store.dispatch("login",e.cred),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},me=le,pe=(r("9347"),Object(m["a"])(me,ue,ce,!1,null,"3aa4200f",null)),de=pe.exports,fe=r("2f62");function ge(e,t){localStorage[e]=JSON.stringify(t)}function he(e){var t=localStorage[e]||"null";return JSON.parse(t)}function ve(e){localStorage.removeItem(e)}var be={store:ge,load:he,remove:ve};function we(e){return ye.apply(this,arguments)}function ye(){return ye=Object(u["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,E.post("auth/login",t);case 2:return r=e.sent,console.log("res:",r),"message"===r.type&&Se.commit("sendMsg",{txt:r.txt,type:"warning"}),Me.push("/"),be.store("loggedinUser",r),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)}))),ye.apply(this,arguments)}function xe(){return _e.apply(this,arguments)}function _e(){return _e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,E.post("auth/logout");case 2:be.remove("loggedinUser");case 3:case"end":return e.stop()}}),e)}))),_e.apply(this,arguments)}var ke={login:we,logout:xe},Oe=null;localStorage.loggedinUser&&(Oe=JSON.parse(localStorage.loggedinUser));var je={state:{loggedinUser:Oe},getters:{loggedinUser:function(e){return e.loggedinUser}},mutations:{setUser:function(e,t){e.loggedinUser=t}},actions:{login:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ke.login(t);case 3:return n=r.sent,e.commit("setUser",n),r.abrupt("return",n);case 8:r.prev=8,r.t0=r["catch"](0),console.log(r.t0.response);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},logout:function(e){return Object(u["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,ke.logout();case 3:r("setUser",null);case 4:case"end":return t.stop()}}),t)})))()}}},Re=(r("c740"),r("caad"),r("a434"),{state:{teams:[]},getters:{teamsForDisplay:function(e){var t=e.teams,r=[],n=t.filter((function(e,n){var a=t.findIndex((function(t){return t.member2===e.member1&&t.member1===e.member2}));return-1!==a&&(r.push(a),e.isMatch=!0),!r.includes(n)&&e}));return n}},mutations:{addTeam:function(e,t){e.teams.push(t)},setTeams:function(e,t){e.teams=t},removeTeam:function(e,t){var r=e.teams.findIndex((function(e){return e.id===t}));if(console.log("idx:",r),-1===r)throw new Error("Cant find team id: "+t);e.teams.splice(r,1)}},actions:{getTeams:function(e){return Object(u["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,Y.getTeams();case 3:n=t.sent,r("setTeams",n);case 5:case"end":return t.stop()}}),t)})))()},addTeam:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function r(){var n,a,o,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,Y.addTeam(t);case 3:a=r.sent,"Custom Message"===a.type?(s=1===a.code?"success":"warning",o={txt:a.message,type:s}):(i="Submitted successfully\nTeam: ".concat(t.member1," & ").concat(t.member2),o={txt:i,type:"success"}),n("sendMsg",o),n("addTeam",t);case 7:case"end":return r.stop()}}),r)})))()},removeTeam:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.prev=1,r.next=4,Y.removeTeam(t);case 4:n("removeTeam",t),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](1),console.log(r.t0);case 10:case"end":return r.stop()}}),r,null,[[1,7]])})))()}}});n["a"].use(fe["a"]);var Se=new fe["a"].Store({state:{userMsg:null},getters:{message:function(e){return e.userMsg}},mutations:{sendMsg:function(e,t){e.userMsg=t}},actions:{},modules:{userStore:je,teamStore:Re}});n["a"].use(j["a"]);var Te=[{path:"/",name:"team-app",component:V},{path:"/teams",name:"team-list",component:ie,beforeEnter:function(e,t,r){Se.getters.loggedinUser&&Se.getters.loggedinUser.isAdmin?r():(Se.commit("sendMsg",{txt:"You are unauthorized to enter!",type:"warning"}),r({name:"team-app"}))}},{path:"/login",name:"login-page",component:de},{path:"/*",redirect:"/"}],Ce=new j["a"]({mode:"history",base:"/",routes:Te}),Me=Ce;n["a"].config.productionTip=!1,new n["a"]({router:Me,store:Se,render:function(e){return e(k)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";r("9c0c")},"6c98":function(e,t,r){},8663:function(e,t,r){},9347:function(e,t,r){"use strict";r("177e")},"9c0c":function(e,t,r){},a165:function(e,t,r){},c408:function(e,t,r){"use strict";r("8663")},da86:function(e,t,r){"use strict";r("6c98")},dd26:function(e,t,r){"use strict";r("2134")}});
//# sourceMappingURL=app.c7eacddc.js.map